
@{
    ViewBag.Title = "PersonCenter";
    _4S.Model.T_Base_User user = ViewBag.user;
    int id = ViewBag.Id;
    List<_4S.Model.T_Base_Testdrive> reserve = ViewBag.reserve;
    List<_4S.Model.T_Base_Service> service = ViewBag.service;
}

<div class="row mb-4">
    <div class="col-md-12">
        <div class="card">
            <img class="card-img" src="/quillpro/assets/img/bg-image-1-horizontal.jpg" alt="Feature Image">
            <div class="card-user-profile">
                <div class="profile-page-left">
                    <div class="row">
                        <div class="col-lg-12 mb-4">
                            <div class="profile-picture profile-picture-lg bg-gradient bg-primary mb-4">
                                <img src="/quillpro/assets/img/profile-pic.jpg" width="144" height="144">
                            </div>
                            <h2 style="text-align:center">@user.LoginName</h2>
                            <a class="btn btn-primary btn-block btn-gradient" href="/home/personcenteredit?id=@id">
                                <i class="batch-icon batch-icon-user-alt-add-2"></i>
                                编辑个人资料
                            </a>
                        </div>
                        
                    </div>
                    <hr />
                    <h2>
                        <i class="batch-icon batch-icon-user"></i>
                        Phone
                    </h2>
                    <h4>@user.Phonenumber</h4>
                    <hr />
                    <h2>
                        <i class="batch-icon batch-icon-mail"></i>
                        Email
                    </h2>
                    <h4>@user.Email</h4>
                    <hr />
                    <h5>
                        <i class="batch-icon batch-icon-image"></i>
                        Album
                    </h5>
                    <a href="#">
                        <img src="/quillpro/assets/img/album-image.jpg" class="img-fluid img-thumbnail" />
                    </a>
                    <a class="float-right mt-2" href="#">More</a>
                </div>
                <div class="profile-page-center">
                    <h1 class="card-user-profile-name">@user.RealName</h1>
                    <div class="comment-block">
                        <div class="form-group">
                            <textarea class="form-control" id="comment-textarea" rows="2" placeholder="Enter your comment here..."></textarea>
                            <div class="media-feed-control clearfix">
                                <button type="button" class="btn btn-secondary btn-sm comment-reply float-right">Post</button>
                                <a href="#" data-toggle="tooltip" title="Add Picture">
                                    <i class="batch-icon batch-icon-image"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                    <hr />
                    <div class="row mb-5">
                        <div class="col-md-12 mb-5">
                            <div class="card" id="reserve">
                                <div class="card-header">
                                    我的预约
                                </div>
                                <div class="card-body">
                                    @if (reserve == null)
                                    {
                                        <table class="table table-striped">
                                            <thead>
                                                <tr>
                                                    <th>#</th>
                                                    <th>车型</th>
                                                    <th>预约时间</th>
                                                    <th>处理情况</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>#</td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    }
                                    else
                                    {
                                        <table class="table table-striped">
                                            <thead>
                                                <tr>
                                                    <th>#</th>
                                                    <th>车型</th>
                                                    <th>预约时间</th>
                                                    <th>处理情况</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                @foreach (var item in reserve)
                                                {
                                                    <tr>
                                                        <td>#</td>
                                                        <td>@item.Car.Carmodel @item.Car.Modeldetail</td>
                                                        <td>@item.Dtime.ToString("yyyy-MM-dd")</td>
                                                        @if (item.DealSituation == 0)
                                                        {
                                                            <td><span class="badge badge-danger">未处理</span></td>
                                                        }
                                                        else
                                                        {
                                                            <td><span class="badge badge-success">已处理</span></td>
                                                        }
                                                    </tr>
                                                }

                                            </tbody>
                                        </table>
                                    }

                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="row mb-5">
                        <div class="col-md-12 mb-5">
                            <div class="card" id="service">
                                <div class="card-header">
                                    我的维修订单
                                </div>
                                <div class="card-body">
                                    @if (service == null)
                                    {
                                        <table class="table table-striped">
                                            <thead>
                                                <tr>
                                                    <th>#</th>
                                                    <th>品牌</th>
                                                    <th>车型</th>
                                                    <th>故障类型</th>
                                                    <th>预约时间</th>
                                                    <th>处理情况</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>#</td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                    <td></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    }
                                    else
                                    {
                                        <table class="table table-striped">
                                            <thead>
                                                <tr>
                                                    <th>#</th>
                                                    <th>品牌</th>
                                                    <th>车型</th>
                                                    <th>故障类型</th>
                                                    <th>预约时间</th>
                                                    <th>处理情况</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                @foreach (var item in service)
                                                {
                                                    <tr>
                                                        <td>#</td>
                                                        <td>@item.Brand</td>
                                                        <td>@item.CarModel @item.Modeldetail</td>
                                                        <td>@item.FaultType</td>
                                                        <td>@item.Appointment.ToString("yyyy-MM-dd")</td>
                                                        @if (item.DealSituation == 0)
                                                        {
                                                            <td><span class="badge badge-danger">未处理</span></td>
                                                        }
                                                        else
                                                        {
                                                            <td><span class="badge badge-success">已处理</span></td>
                                                        }
                                                    </tr>
                                                }

                                            </tbody>
                                        </table>
                                    }

                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

